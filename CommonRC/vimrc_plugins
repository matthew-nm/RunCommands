" source /blah/blah/vimrc_plugins


" ===== PLUGINS via `vim-plug` ===== "

" run `vim-plug` in terminal to install manager

" run the following within vim:
"   PlugInstall
"   PlugUpdate
"   PlugClean
"   PlugUpgrade

call plug#begin()
"Plug 'user/repo', 'branch_or_tag'

" General
Plug 'scrooloose/nerdtree'
Plug 'aufgang001/vim-nerdtree_plugin_open'
Plug 'majutsushi/tagbar'
  " needs universal-ctags intalled
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'
Plug 'kien/ctrlp.vim'
Plug 'brooth/far.vim'
Plug 'w0rp/ale'
  " needs linters installed
Plug 'JamshedVesuna/vim-markdown-preview'
Plug 'tmhedberg/SimpylFold'
Plug 'konfekt/fastfold'
Plug 'ervandew/supertab'
Plug 'vim-scripts/ShowTrailingWhitespace'
  " alternative: ntpeters/vim-better-whitespace
Plug 'airblade/vim-gitgutter'

" Tmux
Plug 'tpope/vim-tbone'
Plug 'christoomey/vim-tmux-navigator'

" Autocomplete
Plug 'shougo/deoplete.nvim'
  " needs neovim python package for python used by vim
Plug 'roxma/nvim-yarp'
Plug 'roxma/vim-hug-neovim-rpc'

" Python
Plug 'davidhalter/jedi-vim'

" Unused?
Plug 'tpope/vim-fugitive'

" Syntax
Plug 'plasticboy/vim-markdown'
Plug 'neovimhaskell/haskell-vim'
Plug 'vim-python/python-syntax'

" Conditionals
if $POWERLINE == 1
  Plug 'ryanoasis/vim-devicons'
endif

call plug#end()


" ========================== "
" ===== CONFIGURATIONS ===== "
" ========================== "

" ===== Vim Airline ===== "

" Set theme
let g:airline_theme='angr'
set noshowmode

" Use powerline fonts if supported
if $POWERLINE == 1
  let g:airline_powerline_fonts=1
endif

" Get rid of annoying symbols
let g:airline_symbols = {}
let g:airline_symbols.linenr = ''
let g:airline_symbols.maxlinenr = ''

" Get rid of whitespace warning
silent! call airline#extensions#whitespace#disable()
let g:airline_section_warning = airline#section#create(['ycm_warning_count','syntastic-warn'])


" ===== NERDTree ===== "

" Show hidden files by default
let NERDTreeShowHidden = 1

" Ignore certain filetypes
let NERDTreeIgnore = ['\.pyc$', '\.swp$', '\.swo$']

" Some weird bug fix...
let g:NERDTreeGlyphReadOnly = "RO"

" Configure NerdtreePluginOpen
let g:nerdtree_plugin_open_cmd = 'kde-open'

" Fix to work with tmux-navigator
let g:NERDTreeMapJumpNextSibling = '<Nop>'
let g:NERDTreeMapJumpPrevSibling = '<Nop>'


" ===== CtrlP ===== "

" Prioritize filename matches
"let g:ctrlp_by_filename = 1

" Show dotfiles
let g:ctrlp_show_hidden = 1

" Don't use caching
"let g:ctrlp_use_caching = 0

" Allow multiple buffers of same file
let g:ctrlp_switch_buffer = 0


" ===== Markdown Preview ===== '

let vim_markdown_preview_hotkey = '<C-m>'


" ===== deoplete ===== "

" Disable automatic completions
let g:deoplete#enable_at_startup = 0

let g:python3_host_prog = expand('~/bin/python')


" ===== jedi-vim ===== "

" Disable automatic package completions
let g:jedi#popup_on_dot = 0


" ===== supertab ===== "

let g:SuperTabDefaultCompletionType = '<c-n>'


" ===== SimpylFold ===== "

let g:SimpylFold_fold_import = 0
let g:SimpylFold_fold_docstring = 0
let g:SimpylFold_docstring_preview = 1


" ===== ale (linter) ===== "

let g:ale_set_highlights = 0
let g:ale_sign_column_always = 1
"let g:ale_change_sign_column_color = 1
let g:airline#extensions#ale#enabled = 1

" python
let g:ale_python_flake8_options = '--ignore=E201,E202,E222,E303,E266,E501'


" ===== Python-Syntax ===== "

let g:python_highlight_all = 1


"
"
" Random cleanup...
"filetype plugin off  " leave 'on' for folding plugins
filetype indent off
